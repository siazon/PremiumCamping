<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Premium_Camping</title>
        <link href="./resources/img/logo.ico" rel="icon" />
    	<!-- <link href="./resources/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" /> -->

	    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
	    <link href="./resources/css/style.css" rel="stylesheet" /> -
	 
	    <style>
	        .mainView {
	            background-image: url("./resources/img/forgot.jpg");
	            background-size: cover;
	            height: 100%;
	            width: 100%;
	            background-repeat: no-repeat;
	            /* background-color: steelblue; */
	        }
	        
	        nav a {
	            font-size: 15px;
	            color: #656565;
	            text-align: center;
	            padding: 14px 16px;
	            text-decoration: none;
	        }
	
	        nav a:hover {
	            color: #fff;
	            background-color: #7AB730;
	            border-color: #7AB730;
	        }
	
	        .text {
	            margin-top: 10px;
	            height: 50px;
	        }
	
	        .btnt {
	            margin: 20px 0;
	            border: 1px solid transparent;
	            height: 50px;
	        }
	
	        a {
	            margin-left: 10px;
	        }
	    </style>
</h:head>

<h:body class="mainView" >

	<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4  bg-white border-bottom box-shadow"
		style="margin-bottom:0px; position: absolute; top: 0px; width: 100%;">
		<h3 class="my-0 mr-md-auto  font-weight-bold" onclick="displayHome()"><img src="./resources/img/logo.ico"
				style="height: 40px; width:40px; margin:0 10px; " />Premium Camping</h3>
		<nav class="my-2 my-md-0 mr-md-3">
			<a class="" href="home.xhtml">Home</a>
			<a class="" href="aboutUs.html">About Us</a>
			<a class="" href="home.xhtml">Packages</a>
			<a class="" href="home.xhtml">Services</a>
			<a class="" href="home.xhtml">Contact</a>
			<a class="" href="login.xhtml">Login</a>
		</nav>
	</div>
    <div class="container">
        <div class="bg-light shadow" style="padding: 10px; margin: 6% 0; padding: 8%; opacity: 89%;">
	        <h:form id="firstForm">
			    <p:messages id="messages" showDetail="true" showSummary="false" closable="true">
			    </p:messages>
	                <div class="row align-items-left" style="min-height: 40px; justify-content: left">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0" style="text-align: center; justify-content: left">
	                                <img class="img-circleimg-responsive" alt="Campping" src="./resources/img/logo.png"
	                                    width="80px" style="margin: 0 auto;" />
	                            </div>
	                        </div>
	                    </div>
	                </div>
	                <div class="row align-items-center" style="min-height: 60px; justify-content: left">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0" style="text-align: center">
	
	                                <p:outputLabel value="Password assistance" style="font-size: 30px;" />
	                            </div>
	                        </div>
	                    </div>
	                </div>
	                <h:panelGroup layout="block" class="row align-items-center" style="min-height: 60px; justify-content: left" rendered="#{!forgotPasswordBean.verificationVisible}">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0">
	                                <div>Email</div>
	                                <p:inputText id="email" type="text" class="form-control p-4 datetimepicker-input"
	                                    value="#{forgotPasswordBean.email}" placeholder="Email" required="true" />
	                            </div>
	                        </div>
	                    </div>
	                </h:panelGroup>
	                <h:panelGroup layout="block" class="row align-items-center" style="min-height: 60px;justify-content: left"  rendered="#{forgotPasswordBean.verificationVisible}">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0">
	                                <div>Verification code</div>
	                                <p:inputText id="verificationCode" type="text" class="form-control p-4 datetimepicker-input"
	                                    value="#{forgotPasswordBean.verificationCode}" placeholder="Verification code" required="true" />
	                            </div>
	                        </div>
	                    </div>
	                </h:panelGroup>
	                <h:panelGroup layout="block" class="row align-items-center" style="min-height: 60px; justify-content: left" rendered="#{forgotPasswordBean.verificationVisible}">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0">
	                                <div>New Password</div>
	                                <p:password id="password" type="text" class="form-control p-4 datetimepicker-input"
	                                    value="#{forgotPasswordBean.password}" placeholder="Password" required="true" />
	                            </div>
	                        </div>
	                    </div>
	                </h:panelGroup>
	                <h:panelGroup layout="block" class="row align-items-center" style="min-height: 60px; justify-content: left" rendered="#{forgotPasswordBean.verificationVisible}">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0">
	                                <div>Repeat password</div>
	                                <p:password id="passwordRepeated" type="text" class="form-control p-4 datetimepicker-input"
	                                    value="#{forgotPasswordBean.passwordRepeated}" placeholder="Password" required="true" />
	                            </div>
	                        </div>
	                    </div>
	                </h:panelGroup>
	                <h:panelGroup layout="block" class="row align-items-center" style="min-height: 60px; justify-content: left" rendered="#{!forgotPasswordBean.verificationVisible}">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0">
	                                <p:commandButton class="btn btn-primary btn-block btnt" type="submit"
	                                    value="SEND CODE" action="#{forgotPasswordBean.sendEmail}"  update="email messages :secondForm"/>
	                            </div>
	                        </div>
	                    </div>
	                </h:panelGroup>
	                <h:panelGroup layout="block" class="row align-items-center" style="min-height: 60px; justify-content: left" rendered="#{forgotPasswordBean.verificationVisible}">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0">
	                                <p:commandButton class="btn btn-primary btn-block btnt" type="submit" ajax="false"
	                                    value="CHANGE PASSWORD" action="#{forgotPasswordBean.updatePassword}" update="messages verificationCode password passwordRepeated"/>
	                            </div>
	                        </div>
	                    </div>
	                </h:panelGroup>
	                <h:panelGroup layout="block" class="row align-items-center" style="min-height: 60px;justify-content: left" rendered="#{!forgotPasswordBean.verificationVisible}">
	                    <div class="col-md-6 col-md-offset-3">
	                        <div class="col-md-12 text">
	                            <div class="mb-3 mb-md-0">
	                                <a class="btn btn-outline-primary btn-block btnt" style="margin-bottom: 6%;" href="login.xhtml">BACK TO LOGIN</a>
	                            </div>
	                        </div>
                        </div>
	                </h:panelGroup>
	        </h:form>
	        <h:form id="secondForm">
		        <h:panelGroup layout="block" class="row align-items-center" style="min-height: 60px;justify-content: left" rendered="#{forgotPasswordBean.verificationVisible}">
		            <div class="col-md-6 col-md-offset-3">
		                <div class="col-md-12 text">
		                    <div class="mb-3 mb-md-0">
		                        <p:commandButton class="btn btn-primary btn-block btnt" type="submit"
		                            value="BACK TO RE-SEND VERIFICATION CODE" action="#{forgotPasswordBean.backToSendEmailForm}"  update=":firstForm"/>
		                    </div>
		                </div>
		            </div>
		        </h:panelGroup>	
	        </h:form>
        </div>	
	</div>
</h:body>

</html>